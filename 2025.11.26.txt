
죽음의 핑 : Ping Of Death

1) Credential Stuffing (크리덴셜 스터핑)
유출된 이메일·비밀번호를 다른 사이트에 자동으로 대입해서 로그인 성공을 노림.

2) Password Spraying (패스워드 스프레이)
하나의 쉬운 비밀번호를 많은 계정에 시도.
(예: Password123!, Welcome123)

3) Brute-force Attack (무차별 대입)
가능한 모든 조합을 대입해 비밀번호 알아냄.

4) Dictionary Attack (사전 대입)
자주 쓰는 비밀번호 목록(딕셔너리)을 사용해 공격.

5) Phishing / Spear Phishing (피싱)
가짜 로그인 페이지로 자격 증명을 탈취.

6) Keylogging
키보드 입력을 기록해 비밀번호 획득.

7) Session Hijacking / Token Theft
세션 토큰을 탈취해 인증된 사용자처럼 행동.

RESTful API  (json 전달)
<script>alert("Test")</script>  - javascript


Line-based text data: text/html (110 lines)



▷ Nmap 정의
 ∙ 특정 호스트(시스템)의 어떤 포트가 열려 있는지(서비스가 리스닝 중인지) 확인하는 도구/행위.
 ∙ 포트 → 서비스 → 버전 → 취약점으로 이어지는 초기 정보수집 단계.
▷ 동작 원리(두 가지 관점)
 ∙ 반응 기반(positive) : 대상에 직접 프로브를 보내고 오는 응답(예: SYN+ACK, banner) 으로 포트 상태를 확인.
 ∙ 부재/간접(negative) : 응답이 없거나 특정 패턴의 부재를 통해 필터됨/닫힘 등을 추론(예: 방화벽이 모든 패킷에 RST로 응답하거나 아무 응답도 안 할 때).
 ∙ (현실) 대부분의 스캐너는 두 방식 요소를 모두 사용 — 직접 응답을 확인하고, 응답 부재로부터 필터링 여부를 추론함.
▷ 네트워크 서비스 스캐닝은 “열려 있는 문(포트)” 뒤에 “어떤 프로그램이 있는가”를 알아내는 과정이다. 이를 통해 공격자는 침투 기회를, 방어자는 취약점 차단 지점을 찾는다.



1. 개념
 • 열려 있는 포트에서 어떤 네트워크 서비스가 실행 중인지 확인하는 행위
 • 포트는 단순한 번호가 아니라, 서비스가 열려 있는 “통신 창구” 역할
2. 목적
 • 각 포트에서 어떤 서비스(HTTP, SSH, FTP 등)가 동작 중인지 식별
 • 공격자는 서비스를 통해 접근하므로, 서비스 식별이 공격의 출발점
3. 중요성
 • 네트워크 공격은 대부분 서비스와의 통신을 기반으로 함
 • 따라서 서비스 탐색 후 → 버전 파악 → 취약점 분석으로 이어짐
 • “어떤 서비스가 열려 있느냐”가 방어/공격 양쪽 모두에서 핵심 정보
4. 주요 스캔 기법
 • Banner Grabbing: 서비스가 보내는 환영 메시지(Banner)로 버전/제품 확인 (-sV)
 • Network Service Footprinting: 서비스 구조 및 동작 특성 분석
 • Enumeration(열거): 사용자, 공유 폴더, 권한 등 세부 정보 수집
5. 핵심 포인트
 • 단순히 포트를 찾는 것이 아니라, 포트 뒤에 어떤 서비스가 있는지를 식별해야 함
 • 서비스별로 통신 방식·공격 기법이 다르므로, 서비스 이해가 보안의 출발점
6. 다른 포트 스캐너들 (용도/특징)
 • Masscan : 초고속 포트 스위프(인터넷 스케일 탐색) — 정확도 낮음, 발견된 포트만 후속으로 정밀검사 권장.
 • RustScan : 빠른 포트 검색 + Nmap 자동 연계(빠른 프론트엔드 역할).
 • Axiom, ZMap 등: 분산/대규모 스캔용 툴.
7. 실무 권장 워크플로우 (규모별)
 • 대규모(인터넷 스케일): Masscan / ZMap → 열린 포트 목록 생성
 • 정밀검사: Nmap으로 발견된 포트 -sV, --script 등으로 상세 분석
 • 내부 테스트: 속도 낮추고 병렬성 제한, 장비 부하/정책 고려



1. Virtual Hosting
 • 같은 IP에 여러 도메인(Virtual Host)이면 서비스/도메인별 결과가 겹칠 수 있음. 도메인별 확인이 필요하면 HTTP Host 헤더 검사나 웹 애플리케이션 레벨 탐지 병행.
2. 속도 vs 정확도 (원칙)
 • 속도 ↑ → 정확도 ↓, 차단 확률 ↑. 빠른 스캔은 오탐·블랙리스트·네트워크 과부하 초래.
 • 권장: 테스트 환경에서 --min-rate를 단계적으로 올려 최적값 탐색.
3. 외부망(Internet) 모의해킹 권장사항
 • 10개 이상 연속 포트 스캔은 탐지/블랙리스트 위험↑.
 • 분산 스캔 또는 슬로우 스캔 사용(Axiom, 분산 인프라).
 • 퍼블릭 대상은 법적·정책적 허가 확인 필수.
4. 내부망 모의해킹 주의사항
 • 과도한 TCP SYN(-sS) 스캔은 방화벽/라우터/스위치에 부하를 줄 수 있음. 내부 장비 영향 고려.
 • 내부에서는 낮은 병렬성/느린 속도로 테스트하거나 시간/세그먼트 분할 권장.
5. 대규모 타깃 워크플로우 (실전)
 • 1단계: Masscan / Axiom — 빠른 포트 발견(고속, 낮은 정확도)
 • 2단계: Nmap — 발견된 포트만 정밀 스캔(-sV, --script 등)
 • 이유: 자원 절약 + 오탐 줄이기
6. "모든 포트 열림" 결과가 나올 때
 • 대부분 거짓 양성(방화벽 리스폰스, TCP 접속 프록시, IDS/IPS 응답)
 • 확인법: 다른 스캔타입(-sT vs -sS), --packet-trace, --script-trace, 와이어샤크 확인
7. 로컬 네트워크(같은 서브넷) 특별사항
 • Nmap은 로컬 대상에 ARP 사용 — -Pn을 써도 MAC 해상 때문에 ARP가 발생함.
 • ARP 비활성: --disable-arp-ping (주의: 정확도/성능 영향)
8. 유용한 Nmap 옵션 예시(짧게)
 • -sS : SYN 스캔 (스텔스)
 • -sT : TCP connect 스캔 (권한 낮아도 됨)
 • -Pn : 호스트 발견(skip) 생략 → 바로 스캔
 • --min-rate 1000 : 최소 패킷 전송률(속도조절)
 • --packet-trace / --script-trace : 디버깅용 상세 출력
 • --disable-arp-ping : ARP ping 비활성화
9. 실무 팁 / 체크리스트
 • 항상 범위·허가(Authorization) 먼저 확인.
 • 대규모 스캔은 시간대 분할 & 샘플링 후 확대.
 • 로그/트래픽(IDS, 라우터 CPU) 모니터링 병행.
 • 결과는 교차검증(다른 툴/타입으로 재검)할 것.
 • 민감 정보(자격증명 등) 로그에 남지 않게 주의.
10. “빠르게 스캔하면 문제를 놓치거나 차단될 수 있으니, 분산·단계적 접근과 교차검증을 기본으로 하라.”



Open (TCP connect), 3-Way Handshake
Half-open
Stealth : NULL, FIN, XMAS, ACK

Sweeps (스윕)
 • 설명: 대량 대상에 대해 호스트 스윕(host sweep) 또는 포트 스윕(port sweep) 을 빠르게 수행해 살아있는 호스트나 열린 포트를 대규모로 탐지.
 • 특징: 인터넷 스케일 탐지에 적합(대역폭/속도 중요). 정확도는 낮을 수 있어 후속 정밀검사 필요.
 • 도구/예: masscan / nmap ping-sweep 

Misc (기타 스캔들)
 • 설명: 위에 포함되지 않는 다양한 스캔들 — UDP 스캔, 버전탐지, OS 탐지, 스크립트 기반 탐지 등.



TCP 프로토콜의 가장 중요한 특징은 상대방에게 정확하게 데이터를 전달할 수 있다는 점이다
UDP 와 다르게 데이터를 정확하게 전달하기 위해 세션을 연결하는 과정이 필수적이다.
TCP 스캔은 3-웨이 핸드쉐이킹을 이용하여, 포트오픈여부를 확인하는기법이며
핸드세이킹이 정삭적으로 완료되었다면, 해당 TCP 포트는 정상적으로 열려 있는 것으로 판단 할 수 있다.
UDP 프로토콜은 TCP와 다르게 핸드쉐이킹 과정이 존재하지 않기 때문에 포트가 오픈되어 있어도 서버에서 아무런 응답을 하지 않을 수도 있다. 그러나 닫혀있는 경우 ICMP unreachable 메시지를 통해 해당 포트가 닫혀 있음을 알리게 된다.



RST + ACK : , NULL, FIN, Xmas
TCP Open(Connect) : 열렸을때 S + A 응답오고 닫혔을때 RST + ACK 응답이 온다.
SYN --->    RST + ACK
SYN + ACK ----> RST

UAPRSF

- OPEN
- CLOSE 
- filtered : 들어오는 패킷에 반응을 할 수도, 안할 수도 있다.
  포트 자체는 열려있지만 소통이 가능한 서비스가 없다.



